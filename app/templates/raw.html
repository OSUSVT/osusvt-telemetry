{% extends "base.html" %}
{% block content %}
<table class="table table-striped table-hover table-condensed">
 <thead>
  <tr>
     <th>Attribute</th>
     <th>Value</th>
  </tr>
 </thead>
 <tbody>
 {% for attr in attributes.keys() %}
  <tr>
     <th><a href="/{{ attr }}/short/">{{ attributes[attr]["title"] }}</a></th>
     <td><a href="/{{ attr }}/gauge/"><span id="v-{{ attr }}"></span> {{ attributes[attr]["units"] }}</a></td>
  </tr>
 {% endfor %}
 </tbody>
</table>
{% endblock %}
{% block script %}
<script>
    function requestData() {
    $.ajax({
        url: '/all/current/',
        success: function(values) {
            for (attr in values) {
                jQuery("#v-" + attr).text(values[attr]);
            }

            // call it again
            setTimeout(requestData, {{ update }});
        },
        cache: false
    });
}
$(document).ready(requestData());
</script>
{% endblock %}